{% extends 'base.html' %}

{% block content %}
<h2>Knowledge Base - Home</h2>
<p>Welcome to the Knowledge Base. Use the navigation to upload or search documents.</p>

<h3>Available Documents</h3>
{% if documents %}
    <ul class="list-group">
        {% for doc in documents %}
            <li class="list-group-item">
                <strong>Document #{{ doc[0] }}</strong> <!-- Document ID -->
                <br>
                <strong>{{ doc[1] }}</strong> <!-- Title -->
                <br>
                <small>Uploaded: {{ doc[3].strftime('%Y-%m-%d') }}</small>
                <br>
                {{ doc[4] }} <!-- Summary -->
                <br>
                <a href="{{ doc[2] }}" download class="btn btn-link">Download</a>
                <a href="{{ url_for('view_document') }}?file_path={{ doc[2] }}" class="btn btn-link">View</a>
                {% if session.get('access_level') == "Admin" %}
                    <a href="{{ url_for('edit_document', document_id=doc[0]) }}" class="btn btn-warning">Edit</a>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No documents available.</p>
{% endif %}
{% endblock %}
